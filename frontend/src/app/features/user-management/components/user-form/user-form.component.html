<div class="modal-header">
    <h5 class="modal-title">
        {{ data.action === 'add' ? 'Add User' : data.action === 'edit' ? 'Edit User' : 'View User' }}
    </h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="onCancel()"></button>
</div>

<div class="modal-body">
    <form [formGroup]="userForm">

      <input type="hidden" id="userId" formControlName="id" />

        <div class="row mb-3">
            <div class="col">
                <label for="fullName" class="form-label">Full Name</label>
                <input
                        type="text"
                        id="fullName"
                        class="form-control"
                        formControlName="full_name"
                        [ngClass]="{ 'is-invalid': isInvalid('full_name') }"
                />
                <div class="invalid-feedback">
                    {{ getErrorMessage('full_name') }}
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label for="username" class="form-label">User Name</label>
                <input
                        type="text"
                        id="username"
                        class="form-control"
                        formControlName="user_name"
                        [ngClass]="{ 'is-invalid': isInvalid('user_name') }"
                />
                <div class="invalid-feedback">
                    {{ getErrorMessage('user_name') }}
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label for="birthday" class="form-label">Birthday</label>
                <input
                        type="date"
                        id="birthday"
                        class="form-control"
                        formControlName="birthday"
                        [ngClass]="{ 'is-invalid': isInvalid('birthday') }"
                />
                <div class="invalid-feedback">
                    {{ getErrorMessage('birthday') }}
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label for="role" class="form-label">Role</label>
                <select
                        id="role"
                        class="form-select"
                        formControlName="role"
                        [ngClass]="{ 'is-invalid': isInvalid('role') }"
                >
                    <option value="" disabled>Select Role</option>
                    <option *ngFor="let role of roles" [value]="role.id">{{ role.name }}</option>
                </select>
                <div class="invalid-feedback">
                    {{ getErrorMessage('role') }}
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label for="email" class="form-label">Email</label>
                <input
                        type="email"
                        id="email"
                        class="form-control"
                        formControlName="email"
                        [ngClass]="{ 'is-invalid': isInvalid('email') }"
                />
                <div class="invalid-feedback">
                    {{ getErrorMessage('email') }}
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label for="telephone" class="form-label">Telephone</label>
                <input
                        type="text"
                        id="telephone"
                        class="form-control"
                        formControlName="telephone"
                        [ngClass]="{ 'is-invalid': isInvalid('telephone') }"
                />
                <div class="invalid-feedback">
                    {{ getErrorMessage('telephone') }}
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label for="password" class="form-label">Password</label>
                <input
                        type="password"
                        id="password"
                        class="form-control"
                        formControlName="password"
                        [ngClass]="{ 'is-invalid': isInvalid('password') }"
                />
                <div class="invalid-feedback">
                    {{ getErrorMessage('password') }}
                </div>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="onCancel()">Close</button>
    <button
            type="button"
            class="btn btn-primary"
            (click)="onSubmit()"
            [disabled]="userForm.invalid || data.action === 'view'"
    >
        {{ data.action === 'add' ? 'Add User' : 'Update User' }}
    </button>
</div>
